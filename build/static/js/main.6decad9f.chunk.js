(this["webpackJsonpadvent-2021"]=this["webpackJsonpadvent-2021"]||[]).push([[0],{12:function(e,t,n){e.exports={icon:"Icon_icon__JZXkb"}},16:function(e,t,n){e.exports={wrapper:"Timer_wrapper__smmhZ",container:"Timer_container___vadi",timer:"Timer_timer__2pUK3"}},17:function(e,t,n){e.exports={button:"Button_button__2ft6y",default:"Button_default__3KpyZ",settings:"Button_settings__1rVfb"}},18:function(e,t,n){e.exports={h1:"Htag_h1__34uoC",h2:"Htag_h2__1BIvE",h3:"Htag_h3__1Vepl"}},22:function(e,t,n){e.exports={input:"Input_input__2QDHM",edit:"Input_edit__1OLZg"}},23:function(e,t,n){e.exports={overlay:"Modal_overlay__1GjAX",modal:"Modal_modal__3Axg9",heading:"Modal_heading__2VKKw",text:"Modal_text__141oo",form:"Modal_form__ldwWQ"}},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(6),i=n.n(r),s=n(5),a=n(0),c=function(){return Object(a.jsx)(y,{})},o=n(10),u=n(11),d=n(15),l=n(14),j=n(1),f=function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={hasError:!1,error:""},e}return Object(u.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(a.jsx)(h,{error:this.state.error}):this.props.children}}]),n}(j.Component),h=function(e){var t=e.error;return Object(a.jsx)("div",{className:"error",children:Object(a.jsx)("p",{className:"error__text",children:t})})},b=n(19),O={STARTED:"TIMER_STARTED",PAUSED:"TIMER_PAUSED",CHANGED:"TIMER_CHANGED",SETED:"TIMER_SETED",FINISHED:"TIMER_FINISHED"},_=function(){return{type:O.PAUSED}},p={OPENED:"MODAL_OPENED",CLOSED:"MODAL_CLOSED"},m=function(e,t){var n=Object(j.useRef)();Object(j.useEffect)((function(){n.current=e}),[e]),Object(j.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},g=n(16),v=n.n(g),x=n(2),C=n.n(x),E=function(e){return e.length<1?"00":e.length<2?"0".concat(e):e},y=function(){var e=Object(j.useState)({minutes:"0",seconds:"3"}),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(j.useState)(E(n.minutes)),c=Object(b.a)(i,2),o=c[0],u=c[1],d=Object(j.useState)(E(n.seconds)),l=Object(b.a)(d,2),f=l[0],h=l[1],g=Object(s.c)((function(e){return e.timer})),x=g.started,y=g.isConfigured,D=g.isFinished,N=Object(s.c)((function(e){return e.modal.isOpen})),S=Object(s.b)(),L=x?"Stop":"Start",w=function(){u((function(e){return E(e)})),h((function(e){return E(e)}))},P=function(){var e=100/(60*+n.minutes+ +n.seconds)*(60*+o+ +f);return 100-Math.floor(e)}();m((function(){x&&(0===+f&&0!==+o?(h("59"),u((function(e){return+e-1+""})),u((function(e){return E(e)}))):0===+f&&0===+o?(S({type:O.FINISHED}),S({type:p.OPENED})):(h((function(e){return+e-1+""})),h((function(e){return E(e)}))))}),1e3);var I=function(e){"60"===e.target.max?(h(""),h(e.target.value),r({minutes:o,seconds:e.target.value})):"99"===e.target.max&&(u(""),u(e.target.value),r({minutes:e.target.value,seconds:f}))};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:C()(v.a.wrapper),children:[Object(a.jsx)(z,{done:P,isFinished:D,isConfigured:y}),Object(a.jsxs)("div",{className:C()(v.a.container),children:[Object(a.jsxs)("div",{className:C()(v.a.timer),children:[Object(a.jsx)(T,{type:"minutes",value:o,onChange:I,isConfigured:y}),":",Object(a.jsx)(T,{type:"seconds",value:f,onChange:I,isConfigured:y})]}),!y&&Object(a.jsx)(V,{onClick:function(){x?S(_()):(S({type:O.STARTED}),w())},"data-testid":"button-start-toggle",children:L}),Object(a.jsx)(V,{appearance:"settings",onClick:function(){y?(S({type:O.SETED}),w()):S({type:O.CHANGED})},isConfigured:y,"data-testid":"settings-button",children:"Settings"})]}),N&&Object(a.jsx)(q,{onClose:function(){!function(e,t){u(e),h(t)}(n.minutes,n.seconds),w(),S(_())}})]})})},D=n(4),N=n(3),S=n(7),L=n(22),w=n.n(L),P=["type","value","isConfigured"],T=function(e){var t=e.type,n=e.value,r=e.isConfigured,i=Object(S.a)(e,P),c=Object(s.c)((function(e){return e.timer.isConfigured})),o="minutes"===t?99:60;return Object(a.jsx)("input",Object(D.a)(Object(D.a)({className:C()(w.a.input,Object(N.a)({},w.a.edit,r)),type:"number",min:0,max:o,readOnly:!c,value:n},i),{},{maxLength:2}))},I=n(12),A=n.n(I),H=function(){return Object(a.jsx)("svg",{className:C()(A.a.icon),width:"24",height:"24",viewBox:"0 0 24 24",fill:"#585858",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M24 14V10H19.714C19.526 9.274 19.238 8.592 18.866 7.962L21.898 4.93L19.07 2.1L16.04 5.132C15.406 4.76 14.726 4.472 14 4.284V0H10V4.284C9.274 4.474 8.594 4.76 7.96 5.134L4.93 2.1L2.102 4.928L5.132 7.96C4.762 8.592 4.472 9.272 4.286 10H0V14H4.286C4.474 14.726 4.762 15.408 5.134 16.038L2.102 19.072L4.93 21.9L7.962 18.868C8.594 19.24 9.274 19.528 10.002 19.718V24H14.002V19.716C14.728 19.526 15.408 19.238 16.042 18.866L19.074 21.898L21.902 19.07L18.87 16.036C19.242 15.406 19.53 14.726 19.718 13.998H24V14ZM12 16C9.792 16 8 14.206 8 12C8 9.796 9.792 8 12 8C14.208 8 16 9.796 16 12C16 14.204 14.208 16 12 16Z"})})},M=function(){return Object(a.jsx)("svg",{className:C()(A.a.icon),width:"27",height:"24",viewBox:"0 0 27 24",fill:"#585858",xmlns:"http://www.w3.org/2000/svg",children:Object(a.jsx)("path",{d:"M8.74773 24L0 15.2523L3.10636 12.1442L8.4225 17.4603L22.7061 0L26.1078 2.78465L8.74773 24Z"})})},B=n(17),F=n.n(B),k=["appearance","isConfigured","children","className"],V=function(e){var t,n=e.appearance,r=void 0===n?"default":n,i=e.isConfigured,s=e.children,c=e.className,o=Object(S.a)(e,k);return Object(a.jsxs)("button",Object(D.a)(Object(D.a)({className:C()(F.a.button,c,(t={},Object(N.a)(t,F.a.default,"default"===r),Object(N.a)(t,F.a.settings,"settings"===r),t))},o),{},{children:[s,"settings"===r&&(i?Object(a.jsx)(M,{"data-testid":"done-icon"}):Object(a.jsx)(H,{"data-testid":"settings-icon"}))]}))},R=n(8),Z=n.n(R),z=function(e){var t,n=e.done,r=e.isFinished,i=e.isConfigured,s={x:0,y:100};n>0&&n<25?(s.x=4*n,s.y=100):n>=25&&n<=50?(s.x=100,s.y=100-4*(n-25)):n>50&&n<75?(s.x=100-4*(n-50),s.y=0):n>=75&&n<=100?(s.x=0,s.y=4*(n-75)):(s.x=0,s.y=100);var c={x:100,y:100};n>=50&&n<=100?(c.x=0,c.y=0):(c.x=100,c.y=100),i&&(s.x=0,s.y=100,c.x=0,c.y=0);var o={clipPath:"polygon(100% 0, 100% 100%, 0 100%, 50% 50%, ".concat(s.x,"% ").concat(s.y,"%, ").concat(c.x,"% ").concat(c.y,"%)")};return Object(a.jsx)("div",{className:C()(Z.a.wrapper),children:Object(a.jsx)("div",{className:C()(Z.a.progressBar),children:Object(a.jsx)("div",{style:o,className:C()(Z.a.indicator,(t={},Object(N.a)(t,Z.a.inProcess,!r),Object(N.a)(t,Z.a.finished,r||i),t))})})})},U=n(9),G=n.n(U),J=["size","children","className"],K=function(e){var t,n=e.size,r=void 0===n?"m":n,i=e.children,s=e.className,c=Object(S.a)(e,J);return Object(a.jsx)("p",Object(D.a)(Object(D.a)({className:C()(G.a.p,s,(t={},Object(N.a)(t,G.a.s,"s"===r),Object(N.a)(t,G.a.m,"m"===r),Object(N.a)(t,G.a.l,"l"===r),t))},c),{},{children:i}))},X=(n(18),function(e){Object(d.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).el=document.createElement("div"),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){document.body.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.el)}},{key:"render",value:function(){return i.a.createPortal(this.props.children,this.el)}}]),n}(j.Component)),Q=n(23),W=n.n(Q),q=function(e){var t=e.onClose,n=Object(s.b)();return Object(a.jsx)(X,{children:Object(a.jsx)("div",{className:C()(W.a.overlay),children:Object(a.jsxs)("div",{className:C()(W.a.modal),children:[Object(a.jsx)(K,{size:"l",children:"Time is up"}),Object(a.jsx)(V,{className:"form__button button",onClick:function(){n({type:p.CLOSED}),t()},children:"Cancel"})]})})})},Y=n(13),$={started:!1,isConfigured:!1,isFinished:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.STARTED:return{started:!0,isConfigured:!1,isFinished:!1};case O.PAUSED:return{started:!1,isConfigured:!1,isFinished:!1};case O.CHANGED:return{started:!1,isConfigured:!0,isFinished:!1};case O.SETED:return{started:!1,isConfigured:!1,isFinished:!1};case O.FINISHED:return{started:!1,isConfigured:!1,isFinished:!0};default:return e}},te={isOpen:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.OPENED:return{isOpen:!0};case p.CLOSED:return{isOpen:!1};default:return e}},re=Object(Y.a)({timer:ee,modal:ne}),ie=Object(Y.b)(re);n(36);i.a.render(Object(a.jsx)(s.a,{store:ie,children:Object(a.jsx)(f,{children:Object(a.jsx)(c,{})})}),document.getElementById("root"))},8:function(e,t,n){e.exports={wrapper:"ProgressBar_wrapper__35vyV",progressBar:"ProgressBar_progressBar__2X7bl",indicator:"ProgressBar_indicator__ZizSx",inProcess:"ProgressBar_inProcess__2dLDi",finished:"ProgressBar_finished__zSJ0C"}},9:function(e,t,n){e.exports={p:"P_p__FNgQN",s:"P_s__1AJaz",m:"P_m__3OHh9",l:"P_l__1_X30"}}},[[37,1,2]]]);
//# sourceMappingURL=main.6decad9f.chunk.js.map